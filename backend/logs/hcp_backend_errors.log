{"timestamp": "2026-01-15T00:43:51.587392+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:43:51,586"}
{"timestamp": "2026-01-15T00:44:33.048333+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in auth_login: (psycopg2.errors.UndefinedColumn) column users.first_name does not exist\nLINE 1: SELECT users.id AS users_id, users.first_name AS users_first...\n                                     ^\n\n[SQL: SELECT users.id AS users_id, users.first_name AS users_first_name, users.last_name AS users_last_name, users.user_name AS users_user_name, users.email AS users_email, users.hashed_password AS users_hashed_password, users.refresh_token AS users_refresh_token, users.email_verified AS users_email_verified, users.email_verification_token AS users_email_verification_token \nFROM users \nWHERE users.user_name = %(user_name_1)s OR users.email = %(email_1)s \n LIMIT %(param_1)s]\n[parameters: {'user_name_1': 'mohamededderyouch5@gmail.com', 'email_1': 'mohamededderyouch5@gmail.com', 'param_1': 1}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "logger", "function": "log_with_context", "line": 191, "request_id": "c4df8dc8-212a-4860-887f-4d4ffa9172e8", "duration": 0.12456202507019043, "asctime": "2026-01-15 01:44:33,047"}
{"timestamp": "2026-01-15T00:44:33.050528+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ('Login failed', {'duration': 0.12456202507019043})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:44:33,048"}
{"timestamp": "2026-01-15T00:44:34.269659+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:44:34,268"}
{"timestamp": "2026-01-15T00:48:14.083998+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:48:14,082"}
{"timestamp": "2026-01-15T00:48:27.072250+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in auth_login: (psycopg2.errors.UndefinedColumn) column users.user_name does not exist\nLINE 1: ...s_first_name, users.last_name AS users_last_name, users.user...\n                                                             ^\n\n[SQL: SELECT users.id AS users_id, users.first_name AS users_first_name, users.last_name AS users_last_name, users.user_name AS users_user_name, users.email AS users_email, users.hashed_password AS users_hashed_password, users.refresh_token AS users_refresh_token, users.email_verified AS users_email_verified, users.email_verification_token AS users_email_verification_token \nFROM users \nWHERE users.user_name = %(user_name_1)s OR users.email = %(email_1)s \n LIMIT %(param_1)s]\n[parameters: {'user_name_1': 'mohamededderyouch5@gmail.com', 'email_1': 'mohamededderyouch5@gmail.com', 'param_1': 1}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "logger", "function": "log_with_context", "line": 191, "request_id": "549829bc-191d-45a1-9a46-1551c0617687", "duration": 0.13496756553649902, "asctime": "2026-01-15 01:48:27,070"}
{"timestamp": "2026-01-15T00:48:27.073843+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ('Login failed', {'duration': 0.13496756553649902})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:48:27,072"}
{"timestamp": "2026-01-15T00:48:27.815128+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:48:27,814"}
{"timestamp": "2026-01-15T00:51:50.111580+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ('Incorrect password', {'username_or_email': 'mohamededderyouch5@gmail.com'})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:51:50,110"}
{"timestamp": "2026-01-15T00:51:51.342777+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:51:51,342"}
{"timestamp": "2026-01-15T00:52:08.740893+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ('Email already registered', {'email': 'mohamededderyouch5@gmail.com'})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:52:08,739"}
{"timestamp": "2026-01-15T00:55:10.449557+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ('Incorrect user info', {'username_or_email': 'mohamededderyouch5@gmail.com'})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:55:10,445"}
{"timestamp": "2026-01-15T00:55:11.503608+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: ", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 01:55:11,502"}
{"timestamp": "2026-01-15T01:00:38.369842+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_summary_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:00:38,367"}
{"timestamp": "2026-01-15T01:00:38.602323+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_questions_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:00:38,588"}
{"timestamp": "2026-01-15T01:02:58.672929+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in document_retrieval_unified: Embedding encoder not available", "module": "logger", "function": "log_with_context", "line": 191, "user_id": 1, "asctime": "2026-01-15 02:02:58,669"}
{"timestamp": "2026-01-15T01:02:58.677973+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: (\"Failed to generate response: ('Embedding model not available - cannot retrieve documents', {'file_id': 1})\", {'file_id': 1})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 02:02:58,676"}
{"timestamp": "2026-01-15T01:12:13.991798+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_summary_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:12:13,988"}
{"timestamp": "2026-01-15T01:12:14.232852+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_questions_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:12:14,227"}
{"timestamp": "2026-01-15T01:12:36.772110+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: (\"Failed to generate response: ('No documents found. Please upload and process documents first.', {'file_id': 2})\", {'file_id': 2})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 02:12:36,769"}
{"timestamp": "2026-01-15T01:13:58.322537+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_summary_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:13:58,316"}
{"timestamp": "2026-01-15T01:13:58.672528+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_questions_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:13:58,661"}
{"timestamp": "2026-01-15T01:14:05.789535+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: (\"Failed to generate response: ('No documents found. Please upload and process documents first.', {'file_id': 3})\", {'file_id': 3})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 02:14:05,788"}
{"timestamp": "2026-01-15T01:16:36.428255+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_summary_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:16:36,420"}
{"timestamp": "2026-01-15T01:16:36.664420+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_questions_single_chunk: Error code: 401 - {'error': {'message': 'User not found.', 'code': 401}}", "module": "logger", "function": "log_with_context", "line": 191, "index": "mi_emploi_general_25-26_v2_0_1", "chunk_num": 1, "asctime": "2026-01-15 01:16:36,657"}
{"timestamp": "2026-01-15T01:16:51.073452+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: (\"Failed to generate response: ('No documents found. Please upload and process documents first.', {'file_id': 4})\", {'file_id': 4})", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 02:16:51,072"}
{"timestamp": "2026-01-15T02:21:02.381891+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: [{'type': 'string_type', 'loc': ('body',), 'msg': 'Input should be a valid string', 'input': {'title': 'New Chat'}, 'url': 'https://errors.pydantic.dev/2.12/v/string_type'}]", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 03:21:02,374"}
{"timestamp": "2026-01-15T02:21:05.301731+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: [{'type': 'string_type', 'loc': ('body',), 'msg': 'Input should be a valid string', 'input': {'title': 'New Chat'}, 'url': 'https://errors.pydantic.dev/2.12/v/string_type'}]", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 03:21:05,293"}
{"timestamp": "2026-01-15T02:21:06.213719+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: [{'type': 'string_type', 'loc': ('body',), 'msg': 'Input should be a valid string', 'input': {'title': 'New Chat'}, 'url': 'https://errors.pydantic.dev/2.12/v/string_type'}]", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 03:21:06,207"}
{"timestamp": "2026-01-15T02:21:07.367499+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: [{'type': 'string_type', 'loc': ('body',), 'msg': 'Input should be a valid string', 'input': {'title': 'New Chat'}, 'url': 'https://errors.pydantic.dev/2.12/v/string_type'}]", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 03:21:07,366"}
{"timestamp": "2026-01-15T02:30:34.885424+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in general_chat_message: (psycopg2.ProgrammingError) can't adapt type 'dict'\n[SQL: INSERT INTO general_chat_messages (session_id, content, is_user_message, created_at, documents_used) VALUES (%(session_id)s, %(content)s, %(is_user_message)s, now(), %(documents_used)s) RETURNING general_chat_messages.id, general_chat_messages.created_at]\n[parameters: {'session_id': 2, 'content': \"<article>Bonjour ! Comment puis-je vous aider aujourd'hui ?<p><strong>Sources: Page 1\u201311</strong></p></article>\", 'is_user_message': False, 'documents_used': [{'id': 5, 'name': 'mi_emploi_general_25-26_v2_0_1.pdf'}]}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "logger", "function": "log_with_context", "line": 191, "session_id": "***REDACTED***", "asctime": "2026-01-15 03:30:34,882"}
{"timestamp": "2026-01-15T02:30:34.894011+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_session: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.ProgrammingError) can't adapt type 'dict'\n[SQL: INSERT INTO general_chat_messages (session_id, content, is_user_message, created_at, documents_used) VALUES (%(session_id)s, %(content)s, %(is_user_message)s, now(), %(documents_used)s) RETURNING general_chat_messages.id, general_chat_messages.created_at]\n[parameters: {'session_id': 2, 'content': \"<article>Bonjour ! Comment puis-je vous aider aujourd'hui ?<p><strong>Sources: Page 1\u201311</strong></p></article>\", 'is_user_message': False, 'documents_used': [{'id': 5, 'name': 'mi_emploi_general_25-26_v2_0_1.pdf'}]}]\n(Background on this error at: https://sqlalche.me/e/20/f405) (Background on this error at: https://sqlalche.me/e/20/7s2a)", "module": "logger", "function": "log_with_context", "line": 191, "asctime": "2026-01-15 03:30:34,890"}
{"timestamp": "2026-01-15T02:30:34.898646+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in database_error: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.ProgrammingError) can't adapt type 'dict'\n[SQL: INSERT INTO general_chat_messages (session_id, content, is_user_message, created_at, documents_used) VALUES (%(session_id)s, %(content)s, %(is_user_message)s, now(), %(documents_used)s) RETURNING general_chat_messages.id, general_chat_messages.created_at]\n[parameters: {'session_id': 2, 'content': \"<article>Bonjour ! Comment puis-je vous aider aujourd'hui ?<p><strong>Sources: Page 1\u201311</strong></p></article>\", 'is_user_message': False, 'documents_used': [{'id': 5, 'name': 'mi_emploi_general_25-26_v2_0_1.pdf'}]}]\n(Background on this error at: https://sqlalche.me/e/20/f405) (Background on this error at: https://sqlalche.me/e/20/7s2a)", "module": "logger", "function": "log_with_context", "line": 191, "request_id": "b1279bf6-43ba-480c-b31f-c678f75af0a4", "method": "POST", "endpoint": "/api/general-chat/sessions/2/messages", "asctime": "2026-01-15 03:30:34,897"}
{"timestamp": "2026-01-15T04:23:31.616820+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in background_task: name 'summary' is not defined", "module": "logger", "function": "log_with_context", "line": 191, "task_id": "fc33d35f-f0de-4145-bb32-b06728cc0358", "file_id": 6, "user_id": 1, "duration": 16.417447090148926, "asctime": "2026-01-15 04:23:31,614"}
{"timestamp": "2026-01-15T04:28:08.407764+00:00", "level": "ERROR", "logger": "hcp_backend", "message": "Error in ai_response: Error code: 429 - {'error': {'message': 'Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day', 'code': 429, 'metadata': {'headers': {'X-RateLimit-Limit': '50', 'X-RateLimit-Remaining': '0', 'X-RateLimit-Reset': '1768521600000'}, 'provider_name': None}}, 'user_id': 'user_35hx6ADMdXrKennOFGEOS3Sf7uG'}", "module": "logger", "function": "log_with_context", "line": 191, "index": "general_chat_1docs", "question": "les fillier de enset", "duration": 4.842128276824951, "asctime": "2026-01-15 05:28:08,406"}
